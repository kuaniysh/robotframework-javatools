#summary Library for operating multiple Java applications started in separate JVM

<wiki:toc/>

= Introduction =

!RemoteApplications library is used for launching Java applications in a separate process and taking [http://robotframework.org Robot Framework] (RF) libraries into use to operate on them. This is useful when application does something that cannot be tested with RF when running inside the same JVM. Such cases are when System.exit is called in the SUT, when multiple applications running in separate JVMs need to be tested in parallel or when application is started using Java Web Start. RemoteApplications replaces ApplicationLauncher library, which is needed only if you are using Java version 1.4. 

Library is documented in [http://robotframework-javatools.googlecode.com/svn/jvmconnector/trunk/doc/RemoteApplications.html library documentation.]

= Examples =

Examples contains examples of testing standalone and Java Web Start application.

*Prerequisites for running the examples:*
 * You'll need java, javaws and jybot in the path.
 * Download the [http://robotframework-javatools.googlecode.com/files/remote_applications_example-2009-12-23.zip remote_applications_example.zip]
 * Unzip it and chdir to example directory

*Running Standalone example:*
 * From command line, run `./run.py standalone_application.tsv`

*Running Java Web Start example:*
 * Configure your proxy settings to Java Web Start if necessary.
 * [http://robotframework-javatools.googlecode.com/svn/examples/javaws-demo/demo/lib/test-application.jnlp Start the application] manually and agree with the confirmation dialog if necessary. 

 * If you are using Java 1.5, there is need to insert all the testing libraries to jvmconnector.jar. See the lib dir for the example.
 * Last, from command line, run `./run.py javaws_application.tsv`

The Java Web Start test applications sources can be found from [http://robotframework-javatools.googlecode.com/svn/examples/javaws-demo/ here].

= Usage =

Download !RemoteApplications.py from [http://code.google.com/p/robotframework-javatools/downloads/list the download page]. It depends on jvmconnector which can be downloaded from the same page. See [http://robotframework.googlecode.com/svn/tags/robotframework-2.1/doc/userguide/RobotFrameworkUserGuide.html#taking-test-libraries-into-use RF UserGuide] or examples below on how to take it into use. Jvmconnector needs to be added to CLASSPATH before starting RF.

= Troubleshooting =

Best way to start trouble shooting is to run above from RemoteApplications. In case those work, the environment should not be the problem.


== Application Does Not Start ==

*Cause:* The command starting the application is wrong

*Solution:* By adding "2 > error.txt" at the end of the command you get possible errors to error.txt which is located on the directory where tests are executed. Based on the error, you need to fix the command.

*Cause:* There are spaces in the program that should be started

*Solution:* This is known issue in RemoteApplications, see issue36 for more details.


== Application Hangs ==

*Cause:* _JAVA_OPTIONS environment variable have settings that affect JVM e.g. Quick Test Pro (QTP) related settings.

*Solution:* Remove the _JAVA_OPTIONS environment variable or set it empty in test data


== Test Execution Hangs ==

*Cause:* Multiple Java processes are started with one command and RemoteApplications library accesses wrong JVM

*Debugging:* See that there are no urls in launched.txt in <jvmconnector directory> after the connection to the application is created and/or use [https://visualvm.dev.java.net/ visualvm] tool to monitor the started processes when running the tests.

*Solution 1:* Change the command to start only one process

*Solution 2:* Use "Application Started" keyword to get access to the all started JVMs.


== Connection Cannot Be Established to the Application ==

*Problem:* Could not connect to application XXX

*Cause:* Testing capabilies are not started when the application is started

*Debugging:* Check is there URL in launched.txt (see [http://robotframework-javatools.googlecode.com/svn/jvmconnector/trunk/doc/RemoteApplications.html library documentation] ) remove the file and rerun the test cases.

*Solution 1:* 

*Solution 2:* In case you are using "Start Application" keyword and application is started, please submit an issue.


== Library Cannot Be Taken Into Use ==

*Problem:* Take Librar(y/ies) Into Use" keyword fails for !ClassNotFoundException 

*Cause:* The library is not available on the application's JVM

*Solution 1:* Check that you are giving correct directory to "Start Application" keyword's lib_dir argument

*Solution 2:* In case you are starting the application without using Remote Applications, check that you are giving correct path to the javaagent

*Solution 3:* When using Java 1.5, check that you have included test library jars to the jvm_connector jar. See [http://robotframework-javatools.googlecode.com/svn/jvmconnector/trunk/doc/RemoteApplications.html library documentation] for the details how to insert test libraries to jvmconnector.jar.